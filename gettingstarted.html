

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Getting Started &mdash; Neuronvisio 0.8.5 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.8.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Neuronvisio 0.8.5 documentation" href="index.html" />
    <link rel="next" title="Saving and loading simulations’ reults" href="storage.html" />
    <link rel="prev" title="Install" href="install.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-26394685-2']);
  _gaq.push(['_trackPageview']);
</script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="storage.html" title="Saving and loading simulations’ reults"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Install"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Neuronvisio 0.8.5 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Getting Started</a><ul>
<li><a class="reference internal" href="#how-does-it-work">How does it work</a><ul>
<li><a class="reference internal" href="#loading-a-file">Loading a file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-to-integrate-neuronvisio-with-your-code">How to integrate Neuronvisio with your code</a><ul>
<li><a class="reference internal" href="#python-integration">Python integration</a></li>
<li><a class="reference internal" href="#hoc-intergration">Hoc Intergration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#neuronvisio-features">Neuronvisio features</a><ul>
<li><a class="reference internal" href="#visualization">Visualization</a></li>
<li><a class="reference internal" href="#how-to-rotate">How to rotate</a></li>
<li><a class="reference internal" href="#how-to-zoom">How to zoom</a></li>
<li><a class="reference internal" href="#how-to-move">How to move</a></li>
</ul>
</li>
<li><a class="reference internal" href="#plotting-the-simulation-results">Plotting the simulation results</a><ul>
<li><a class="reference internal" href="#creating-the-vectors">Creating the vectors</a></li>
<li><a class="reference internal" href="#run-the-simulation">Run the simulation</a></li>
<li><a class="reference internal" href="#plotting-the-simulation">Plotting the simulation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#investigate-the-section-parameters">Investigate the section parameters</a></li>
<li><a class="reference internal" href="#modeldb-integration">ModelDB Integration</a><ul>
<li><a class="reference internal" href="#loading-a-model-from-modeldb">Loading a model from ModelDB</a></li>
<li><a class="reference internal" href="#updating-information-from-modeldb">Updating information from ModelDB</a></li>
</ul>
</li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li><a class="reference internal" href="#picking-the-right-backend">Picking the right backend</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="install.html"
                        title="previous chapter">Install</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="storage.html"
                        title="next chapter">Saving and loading simulations&#8217; reults</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/gettingstarted.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="getting-started">
<span id="id1"></span><h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="section" id="how-does-it-work">
<h2>How does it work<a class="headerlink" href="#how-does-it-work" title="Permalink to this headline">¶</a></h2>
<p>To run Neuronvisio you can either use the provided <cite>neuronvisio</cite> executable,
which will create an <a class="reference external" href="http://ipython.org/">ipython</a> session:</p>
<div class="highlight-python"><pre>$ neuronvisio</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">On windows, you can launch it with <cite>neuronvisio.bat</cite></p>
</div>
<p>or you can start ipython and load neuronvisio from within your script,
as explained in section <a class="reference internal" href="#how-to-integrate-neuronvisio-with-your-code">How to integrate Neuronvisio with your code</a></p>
<p>To load Neuronvisio just paste this two lines in ipython:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">neuronvisio.controls</span> <span class="kn">import</span> <span class="n">Controls</span>
<span class="n">controls</span> <span class="o">=</span> <span class="n">Controls</span><span class="p">()</span>   <span class="c"># starting the GUI</span>
</pre></div>
</div>
<p>The Control class run the main loop of the application with all the GUI activities
in its own thread. The console is ready for input so you can enter your command to
the prompt as you would do normally when using <a class="reference external" href="http://www.neuron.yale.edu/neuron/">NEURON</a>.</p>
<div class="section" id="loading-a-file">
<h3>Loading a file<a class="headerlink" href="#loading-a-file" title="Permalink to this headline">¶</a></h3>
<p>You can also load 3 different formats right now:</p>
<ol class="arabic simple">
<li>A NeuroML file (.xml)</li>
<li>A NEURON hoc file hoc file (.hoc)</li>
<li>A HDF file formatted according to Neuronvisio format, (.h5). Check <cite>storage</cite>.</li>
</ol>
<p>to load any of them just pass it as an argument:</p>
<div class="highlight-python"><pre>$ neuronvisio path/to/my/file.hoc (or .h5, or .xml)</pre>
</div>
</div>
</div>
<div class="section" id="how-to-integrate-neuronvisio-with-your-code">
<h2>How to integrate Neuronvisio with your code<a class="headerlink" href="#how-to-integrate-neuronvisio-with-your-code" title="Permalink to this headline">¶</a></h2>
<p>The integration is rather simple and you can use either the python or the hoc
scripts that you already have.</p>
<div class="section" id="python-integration">
<h3>Python integration<a class="headerlink" href="#python-integration" title="Permalink to this headline">¶</a></h3>
<p>If you have a model written in python, just import the module on top of your
script. The simple example (in the example directory) give you an idea how to do
it.</p>
<p>A classical template is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">neuronvisio.controls</span> <span class="kn">import</span> <span class="n">Controls</span>
<span class="kn">from</span> <span class="nn">neuron</span> <span class="kn">import</span> <span class="n">h</span>
<span class="n">controls</span> <span class="o">=</span> <span class="n">Controls</span><span class="p">()</span>   <span class="c"># starting the GUI</span>
<span class="c"># Your model here</span>
</pre></div>
</div>
</div>
<div class="section" id="hoc-intergration">
<h3>Hoc Intergration<a class="headerlink" href="#hoc-intergration" title="Permalink to this headline">¶</a></h3>
<p>You have to load your hoc script using the python interface of _NEURON.
The pyramidal example gives an idea how to integrate existent _NEURON model
with it.</p>
<p>A classical template is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">neuronvisio.controls</span> <span class="kn">import</span> <span class="n">Controls</span>
<span class="kn">from</span> <span class="nn">neuron</span> <span class="kn">import</span> <span class="n">h</span>
<span class="n">controls</span> <span class="o">=</span> <span class="n">Controls</span><span class="p">()</span>   <span class="c"># starting the GUI</span>
<span class="n">controls</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&#39;path/to/my_model.hoc&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Loading a model alre</p>
</div>
</div>
<div class="section" id="neuronvisio-features">
<h2>Neuronvisio features<a class="headerlink" href="#neuronvisio-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="visualization">
<h3>Visualization<a class="headerlink" href="#visualization" title="Permalink to this headline">¶</a></h3>
<p>To visualize you model after you loaded you have to click the Plot3d button.</p>
<img alt="_images/neuronvisio_main_control.png" src="_images/neuronvisio_main_control.png" />
<p>The 3D window will open showing your model:</p>
<img alt="_images/Neuronvisio_3D.png" src="_images/Neuronvisio_3D.png" />
</div>
<div class="section" id="how-to-rotate">
<h3>How to rotate<a class="headerlink" href="#how-to-rotate" title="Permalink to this headline">¶</a></h3>
<p>Hold the left button and move the mouse.</p>
</div>
<div class="section" id="how-to-zoom">
<h3>How to zoom<a class="headerlink" href="#how-to-zoom" title="Permalink to this headline">¶</a></h3>
<p>Use your mouse&#8217;s wheel or the right button of the mouse.</p>
</div>
<div class="section" id="how-to-move">
<h3>How to move<a class="headerlink" href="#how-to-move" title="Permalink to this headline">¶</a></h3>
<p>Hold the wheel down and move the mouse.</p>
</div>
</div>
<div class="section" id="plotting-the-simulation-results">
<h2>Plotting the simulation results<a class="headerlink" href="#plotting-the-simulation-results" title="Permalink to this headline">¶</a></h2>
<div class="section" id="creating-the-vectors">
<h3>Creating the vectors<a class="headerlink" href="#creating-the-vectors" title="Permalink to this headline">¶</a></h3>
<p>To plot the simulation&#8217;s results you first have to create a Vector
(or more than one) to record the variable that you are interested in.</p>
<p>For example if you are interested in the voltage you have to insert <cite>v</cite>
in the &#8216;Variable to record` and click <cite>Create Vector</cite>.</p>
<img alt="_images/neuronvisio_main_control.png" src="_images/neuronvisio_main_control.png" />
</div>
<div class="section" id="run-the-simulation">
<h3>Run the simulation<a class="headerlink" href="#run-the-simulation" title="Permalink to this headline">¶</a></h3>
<p>The simulation can be run clicking on the <cite>Init &amp; Run</cite> button.
It will run until the tstop.</p>
<img alt="_images/neuronvisio_main_control.png" src="_images/neuronvisio_main_control.png" />
</div>
<div class="section" id="plotting-the-simulation">
<h3>Plotting the simulation<a class="headerlink" href="#plotting-the-simulation" title="Permalink to this headline">¶</a></h3>
<p>To plot the results click on the tab &#8216;Plots&#8217; and select the variable
from the section you want to plot. Then click <cite>Plot</cite>.</p>
<p>If you want to plot more variables in one go hold <cite>Ctrl</cite> and select as
many as you want, then click <cite>Plot</cite></p>
<p>If you want to insert the legend just select the <cite>legend box</cite></p>
<a class="reference internal image-reference" href="_images/plotting_vector_results.png"><img alt="_images/plotting_vector_results.png" src="_images/plotting_vector_results.png" style="width: 574.7px; height: 541.1px;" /></a>
</div>
</div>
<div class="section" id="investigate-the-section-parameters">
<h2>Investigate the section parameters<a class="headerlink" href="#investigate-the-section-parameters" title="Permalink to this headline">¶</a></h2>
<p>Select a section (Just click over it) and the section info
will be displayed in the Sec Info Tab.</p>
<a class="reference internal image-reference" href="_images/Neuronvisio_sec_info.png"><img alt="_images/Neuronvisio_sec_info.png" src="_images/Neuronvisio_sec_info.png" style="width: 779.2px; height: 621.6px;" /></a>
</div>
<div class="section" id="modeldb-integration">
<h2>ModelDB Integration<a class="headerlink" href="#modeldb-integration" title="Permalink to this headline">¶</a></h2>
<p>This section describe how to load a model from ModelDb in Neuronvisio,
and how to get the latest model from the ModelDB, if they are not
already present in the ModelDB XML list.</p>
<div class="section" id="loading-a-model-from-modeldb">
<h3>Loading a model from ModelDB<a class="headerlink" href="#loading-a-model-from-modeldb" title="Permalink to this headline">¶</a></h3>
<p>ModelDB database is a lightly curated repository of computational models,
published in litterature <a class="reference external" href="http://senselab.med.yale.edu/ModelDB/">http://senselab.med.yale.edu/ModelDB/</a>. While
ModelDB accepts models in a variety of format, a large subset is formed
by models stored in NEURON format. The ModelDB NEURON’s model are stored
in an XML file, which comes with Neuronvisio source code. The file is
parsed at run time and the content is loaded in a Qt tree widget,
available in the ModelDB explorer tab.</p>
<p>It is possible to browse among all the available models
per year of publication, authors, title and unique id number. The columns
can be ordered alphabetically, and it is possible to perform a simple search,
writing the desired keyword in the search box.</p>
<p>If available, the README associated with the model is displayed,
together with a custom model overview which summarizes the features of
the model, enumerating the type of channels used, the cell types, the
brain region, etc.</p>
<p>Any of the models exposed on the ModelDB explorer tab can be loaded in
Neuronvisio using the Load button. The software will fetch, extract,
compile and try to launch the mosinit.hoc in the current session, giving the user the
possibility to explore and simulate the model, otherwise opening the folder
where the model has been downloaded.</p>
<img alt="_images/neuronvisio_modelDB.png" src="_images/neuronvisio_modelDB.png" />
</div>
<div class="section" id="updating-information-from-modeldb">
<h3>Updating information from ModelDB<a class="headerlink" href="#updating-information-from-modeldb" title="Permalink to this headline">¶</a></h3>
<p>The content of the XML file which is included with each version of
Neuronvisio is usually up-to-date with the content of ModelDB at the time
of the release. Updating this file from the online DB can be done by
manually, if required, by running from any shell the script
<cite>neuronvisio-modeldb-updater</cite>. Neuronvisio updater will find where the
current <cite>ModelDB.xml</cite> is stored, and update with the latest items, if any.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You need to be able to write on the <cite>ModelDB.xml</cite> location. If you have installed the package as root, you may need to run it as root.</p>
</div>
<p>It should be noted that the model extraction from ModelDB is slowed down
to 1/sec in order to avoid loading the site. Also this process only
update the file with models which do not exist in the local XML file
and does not currently refresh the content of existing ones.</p>
</div>
</div>
<div class="section" id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<p>If you start ipython with the <cite>&#8211;pylab=qt</cite> switch and get and error like:</p>
<div class="highlight-python"><pre>    /usr/local/lib/python2.7/dist-packages/pyface/qt/__init__.py in prepare_pyqt4()
     15     # Set PySide compatible APIs.

     16     import sip
---&gt; 17     sip.setapi('QString', 2)
     18     sip.setapi('QVariant', 2)
     19

    ValueError: API 'QString' has already been set to version 1</pre>
</div>
<p>It means ipython has loaded the PyQt4 using the Version 1 of the API, which
is default on Python 2.7 (Version 2 is default on Python 3.)</p>
<p>To solve this you can either define the variable <cite>QT_API=pyqt</cite>, e.g. in bash:</p>
<div class="highlight-python"><pre>$ export QT_API=pyqt
$ ipython --pylab=qt</pre>
</div>
<p>Or you can launch ipython without pylab support, load Neuronvisio and then
load pylab with the magic <cite>%pylab</cite>.</p>
<div class="section" id="picking-the-right-backend">
<h3>Picking the right backend<a class="headerlink" href="#picking-the-right-backend" title="Permalink to this headline">¶</a></h3>
<p>If when you try to plot matplotlib segfault, you may have the wrong backend selected.
Neuronvisio try to set the right backed, but if you start ipython with &#8211;pylab, automatically
a bakcend is loaded and we can&#8217;t change it due to matplotlib technical limitation.</p>
<p>To solve this, just <a class="reference external" href="http://matplotlib.sourceforge.net/users/customizing.html#customizing-matplotlib">customize your matplotlibrc</a> downloading the <a class="reference external" href="http://matplotlib.sourceforge.net/_static/matplotlibrc">matplotlibrc</a>, saving
the file in <cite>.matplotlib/matplotlibrc</cite> and changing the backend to <cite>Qt4Agg</cite>, from:</p>
<div class="highlight-python"><pre>backend      : GTKAgg</pre>
</div>
<p>to:</p>
<div class="highlight-python"><pre>backend      : Qt4Agg</pre>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="storage.html" title="Saving and loading simulations’ reults"
             >next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Install"
             >previous</a> |</li>
        <li><a href="index.html">Neuronvisio 0.8.5 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2009 -2012, Michele Mattioni.
      Last updated on Jul 06, 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-26394685-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</div>

  </body>
</html>